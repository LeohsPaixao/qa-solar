"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[236],{7611:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"tests/Playwright/project","title":"\ud83d\udcc2 Projeto","description":"\ud83d\udd27 Configura\xe7\xe3o e Execu\xe7\xe3o","source":"@site/docs/tests/Playwright/project.mdx","sourceDirName":"tests/Playwright","slug":"/tests/Playwright/project","permalink":"/qa-solar/docs/tests/Playwright/project","draft":false,"unlisted":false,"editUrl":"https://github.com/LeohsPaixao/qa-solar/tree/main/docs/docs/tests/Playwright/project.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"Sidebar","previous":{"title":"\ud83c\udfe0 Home","permalink":"/qa-solar/docs/tests/Playwright/home"},"next":{"title":"\ud83e\uddea Tipos de Testes","permalink":"/qa-solar/docs/tests/Playwright/tests-types"}}');var i=s(2540),r=s(8453);const a={sidebar_position:2},t="\ud83d\udcc2 Projeto",d={},l=[{value:"\ud83d\udd27 Configura\xe7\xe3o e Execu\xe7\xe3o",id:"-configura\xe7\xe3o-e-execu\xe7\xe3o",level:2},{value:"\ud83d\udccb Pr\xe9-requisitos",id:"-pr\xe9-requisitos",level:3},{value:"\ud83d\ude80 Comandos Dispon\xedveis",id:"-comandos-dispon\xedveis",level:3},{value:"Configura\xe7\xe3o Inicial",id:"configura\xe7\xe3o-inicial",level:4},{value:"Execu\xe7\xe3o de Testes",id:"execu\xe7\xe3o-de-testes",level:4},{value:"\ud83d\udcc2 Estrutura do Projeto",id:"-estrutura-do-projeto",level:2},{value:"\u2699\ufe0f Configura\xe7\xf5es Avan\xe7adas",id:"\ufe0f-configura\xe7\xf5es-avan\xe7adas",level:2},{value:"\ud83d\udd27 Configura\xe7\xe3o do Playwright",id:"-configura\xe7\xe3o-do-playwright",level:3},{value:"\ud83c\udf10 Vari\xe1veis de Ambiente",id:"-vari\xe1veis-de-ambiente",level:3},{value:"\ud83d\udcca Configura\xe7\xe3o de Projetos",id:"-configura\xe7\xe3o-de-projetos",level:3},{value:"\ud83d\udcda Comandos Customizados",id:"-comandos-customizados",level:2},{value:"\ud83d\udd10 Comandos de Autentica\xe7\xe3o",id:"-comandos-de-autentica\xe7\xe3o",level:3},{value:"\ud83d\udcdd Comandos de Formul\xe1rio",id:"-comandos-de-formul\xe1rio",level:3},{value:"\ud83c\udfb2 Gera\xe7\xe3o de Dados",id:"-gera\xe7\xe3o-de-dados",level:3},{value:"\ud83d\udee0\ufe0f Depend\xeancias Principais",id:"\ufe0f-depend\xeancias-principais",level:2},{value:"Produ\xe7\xe3o",id:"produ\xe7\xe3o",level:3},{value:"Desenvolvimento",id:"desenvolvimento",level:3}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-projeto",children:"\ud83d\udcc2 Projeto"})}),"\n",(0,i.jsx)(n.h2,{id:"-configura\xe7\xe3o-e-execu\xe7\xe3o",children:"\ud83d\udd27 Configura\xe7\xe3o e Execu\xe7\xe3o"}),"\n",(0,i.jsx)(n.h3,{id:"-pr\xe9-requisitos",children:"\ud83d\udccb Pr\xe9-requisitos"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u26a0\ufe0f Importante"}),': Certifique-se de que as depend\xeancias foram instaladas no projeto raiz "qa-solar" e que o comando ',(0,i.jsx)(n.code,{children:"yarn dev"})," foi executado antes de iniciar os testes."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-comandos-dispon\xedveis",children:"\ud83d\ude80 Comandos Dispon\xedveis"}),"\n",(0,i.jsx)(n.h4,{id:"configura\xe7\xe3o-inicial",children:"Configura\xe7\xe3o Inicial"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Instalar depend\xeancias do Playwright\nyarn play:install\n"})}),"\n",(0,i.jsx)(n.h4,{id:"execu\xe7\xe3o-de-testes",children:"Execu\xe7\xe3o de Testes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Modo Interativo (Playwright UI)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Abrir interface gr\xe1fica do Playwright\nyarn play:open\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Modo Headless (CI/CD)"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Executar todos os testes\nyarn test\n\n# Executar testes Playwright\nyarn play:run\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Utilit\xe1rios"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Visualizar relat\xf3rios HTML\nyarn play:report\n\n# Executar linting\nyarn lint\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-estrutura-do-projeto",children:"\ud83d\udcc2 Estrutura do Projeto"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",children:"tests/playwright/\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 specs/                                # Especifica\xe7\xf5es de testes\n\u2502   \u2502   \u251c\u2500\u2500 login.spec.ts                     # Testes de autentica\xe7\xe3o\n\u2502   \u2502   \u251c\u2500\u2500 registerUser.spec.ts              # Testes de cadastro\n\u2502   \u2502   \u251c\u2500\u2500 profile.spec.ts                   # Testes de perfil\n\u2502   \u2502   \u251c\u2500\u2500 listUsers.spec.ts                 # Testes de listagem\n\u2502   \u2502   \u2514\u2500\u2500 recoverPassword.spec.ts           # Testes de recupera\xe7\xe3o\n\u2502   \u251c\u2500\u2500 shared/                               # Utilit\xe1rios compartilhados\n\u2502   \u2502   \u251c\u2500\u2500 commands/                         # Comandos customizados\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 fillUserForm.ts               # Helper para preenchimento\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 generateValidCPF.ts           # Gerador de CPF v\xe1lido\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 login.ts                      # Comando de login\n\u2502   \u2502   \u251c\u2500\u2500 mocks/                            # Mocks e dados de teste\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 generateUsers.ts              # Gera\xe7\xe3o de usu\xe1rios\n\u2502   \u2502   \u2514\u2500\u2500 utils/                            # Utilit\xe1rios gerais\n\u2502   \u251c\u2500\u2500 fixtures/                             # Dados de teste est\xe1ticos\n\u2502   \u2514\u2500\u2500 misc/                                 # Arquivos diversos\n\u2502       \u2514\u2500\u2500 reports/                          # Relat\xf3rios de execu\xe7\xe3o\n\u251c\u2500\u2500 .env                                      # Vari\xe1veis de ambiente\n\u251c\u2500\u2500 playwright.config.ts                      # Configura\xe7\xe3o principal\n\u251c\u2500\u2500 package.json                              # Depend\xeancias e scripts\n\u251c\u2500\u2500 eslint.config.mjs                         # Configura\xe7\xe3o ESLint\n\u2514\u2500\u2500 CHANGELOG.md                              # Hist\xf3rico de mudan\xe7as\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-configura\xe7\xf5es-avan\xe7adas",children:"\u2699\ufe0f Configura\xe7\xf5es Avan\xe7adas"}),"\n",(0,i.jsx)(n.h3,{id:"-configura\xe7\xe3o-do-playwright",children:"\ud83d\udd27 Configura\xe7\xe3o do Playwright"}),"\n",(0,i.jsx)(n.p,{children:"O projeto utiliza configura\xe7\xf5es otimizadas para performance e confiabilidade:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Principais configura\xe7\xf5es\nexport default defineConfig({\n  testDir: './tests/specs',                 // Diret\xf3rio dos testes\n  outputDir: './tests/misc/reports',        // Diret\xf3rio de relat\xf3rios\n  fullyParallel: true,                      // Execu\xe7\xe3o paralela\n  forbidOnly: !!process.env.CI,             // Bloqueia .only em CI\n  retries: process.env.CI ? 2 : 0,          // Retry em CI\n  workers: 1,                               // N\xfamero de workers\n  reporter: 'html',                         // Relat\xf3rio HTML\n  use: {\n    acceptDownloads: false,                 // N\xe3o aceita downloads\n    ignoreHTTPSErrors: true,                # Ignora erros HTTPS\n    baseURL: process.env.PLAY_BASE_URL,     # URL base da aplica\xe7\xe3o\n    screenshot: 'only-on-failure',          # Screenshots em falhas\n    trace: 'on-first-retry',                # Trace em retry\n    viewport: { width: 1280, height: 720 }, # Resolu\xe7\xe3o padr\xe3o\n  },\n  expect: {\n    timeout: 5000,                          # Timeout para assertions\n    toHaveScreenshot: {\n      animations: 'disabled',               # Desabilita anima\xe7\xf5es\n      maxDiffPixels: 10,                    # Toler\xe2ncia de pixels\n    },\n    toMatchSnapshot: {\n      threshold: 0.1,                       # Threshold para snapshots\n    },\n  },\n  projects: [\n    {\n      name: 'chromium',                     # Projeto Chromium\n      use: { ...devices['Desktop Chrome'] }, # Dispositivo desktop\n    },\n  ]\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-vari\xe1veis-de-ambiente",children:"\ud83c\udf10 Vari\xe1veis de Ambiente"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# URLs de configura\xe7\xe3o\nPLAY_BASE_URL=http://localhost:8181         # URL da aplica\xe7\xe3o frontend\nPLAY_API_URL=http://localhost:3001          # URL da API backend\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-configura\xe7\xe3o-de-projetos",children:"\ud83d\udcca Configura\xe7\xe3o de Projetos"}),"\n",(0,i.jsx)(n.p,{children:"O Playwright suporta m\xfaltiplos projetos para diferentes navegadores:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"projects: [\n  {\n    name: 'chromium',\n    use: { ...devices['Desktop Chrome'] },\n  },\n  // Adicionar outros navegadores conforme necess\xe1rio\n  // {\n  //   name: 'firefox',\n  //   use: { ...devices['Desktop Firefox'] },\n  // },\n  // {\n  //   name: 'webkit',\n  //   use: { ...devices['Desktop Safari'] },\n  // },\n]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-comandos-customizados",children:"\ud83d\udcda Comandos Customizados"}),"\n",(0,i.jsx)(n.h3,{id:"-comandos-de-autentica\xe7\xe3o",children:"\ud83d\udd10 Comandos de Autentica\xe7\xe3o"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Login automatizado via API\nexport async function login(page: Page, email: string, password: string): Promise<void> {\n  const response = await page.request.fetch(`${process.env.PLAY_API_URL}/auth/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    data: { email, password }\n  });\n  \n  const { token } = JSON.parse(await response.text());\n  \n  await page.evaluate(({ token }) => {\n    localStorage.setItem('user-token', token);\n  }, { token });\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-comandos-de-formul\xe1rio",children:"\ud83d\udcdd Comandos de Formul\xe1rio"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Preenchimento autom\xe1tico de formul\xe1rios\nexport async function fillUserForm(page: Page) {\n  const cpf = generateValidCPF();\n  \n  const formFields = [\n    { element: page.locator('[data-testid=\"input-fullname\"]'), valor: faker.person.fullName() },\n    { element: page.locator('[data-testid=\"input-socialname\"]'), valor: faker.person.middleName() },\n    { element: page.locator('[data-testid=\"input-document\"]'), valor: cpf },\n    // ... outros campos\n  ];\n  \n  for (const field of formFields) {\n    await field.element.waitFor({ state: 'visible' });\n    await field.element.fill(field.valor);\n  }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-gera\xe7\xe3o-de-dados",children:"\ud83c\udfb2 Gera\xe7\xe3o de Dados"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Gera\xe7\xe3o de CPF v\xe1lido\nexport function generateValidCPF(): string {\n  const baseDigits = generateRandomDigits(9);\n  const firstVerifier = calculateVerifierDigit(baseDigits);\n  const secondVerifier = calculateVerifierDigit(baseDigits + firstVerifier);\n  const cpf = `${baseDigits}${firstVerifier}${secondVerifier}`;\n  return formatCPF(cpf);\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-depend\xeancias-principais",children:"\ud83d\udee0\ufe0f Depend\xeancias Principais"}),"\n",(0,i.jsx)(n.h3,{id:"produ\xe7\xe3o",children:"Produ\xe7\xe3o"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"@playwright/test"}),": ",(0,i.jsx)(n.code,{children:"1.49.0"})," - Framework de testes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"@faker-js/faker"}),": ",(0,i.jsx)(n.code,{children:"9.8.0"})," - Gera\xe7\xe3o de dados fict\xedcios"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"dotenv"}),": ",(0,i.jsx)(n.code,{children:"16.4.5"})," - Gerenciamento de vari\xe1veis de ambiente"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"desenvolvimento",children:"Desenvolvimento"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"@types/node"}),": ",(0,i.jsx)(n.code,{children:"22.16.0"})," - Tipos do Node.js"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"eslint"}),": ",(0,i.jsx)(n.code,{children:"9.20.0"})," - Linting de c\xf3digo"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"eslint-plugin-playwright"}),": ",(0,i.jsx)(n.code,{children:"2.2.0"})," - Regras espec\xedficas do Playwright"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var o=s(3696);const i={},r=o.createContext(i);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);