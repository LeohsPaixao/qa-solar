---
sidebar_position: 2
---

# üìÇ Projeto

## üîß Configura√ß√£o e Execu√ß√£o

### üìã Pr√©-requisitos

> **‚ö†Ô∏è Importante**: Certifique-se de que as depend√™ncias foram instaladas no projeto raiz "qa-solar" e que o comando `yarn dev` foi executado antes de iniciar os testes.

**Requisitos do Sistema:**
- **Python 3.8+**: Interpretador Python necess√°rio
- **Virtual Environment**: Ambiente virtual isolado (recomendado)
- **Chrome/Chromium**: Navegador para execu√ß√£o dos testes

### üöÄ Comandos Dispon√≠veis

#### Configura√ß√£o Inicial
```bash
# Criar ambiente virtual
python -m venv venv

# Ativar ambiente virtual
# Linux/Mac:
source venv/bin/activate
# Windows:
venv\Scripts\activate

# Instalar depend√™ncias
pip install -r requirements.txt

# Instalar browsers do Playwright
rfbrowser init
```

#### Execu√ß√£o de Testes

**Via Makefile (Recomendado)**
```bash
# Executar todos os testes
make test-all

# Executar testes com tag espec√≠fica
make test-scenario TAG=login

# Executar arquivo espec√≠fico
make test-file FILE_PATH=tests/specs/login.robot

# Executar testes em paralelo
make parallel

# Limpar relat√≥rios
make clean

# Verificar qualidade do c√≥digo
make lint

# Formatar arquivos
make tidy

# Ver ajuda
make help
```

**Via Robot Framework**
```bash
# Executar todos os testes
robot --outputdir results/reports tests/specs

# Executar com tag espec√≠fica
robot --outputdir results/reports --include login tests/specs

# Executar em paralelo
pabot --processes 4 --outputdir results/reports tests/specs

# Executar com argumentos
robot --outputdir results/reports -A args.robotargs tests/specs
```

## üìÇ Estrutura do Projeto

```plaintext
tests/robot/
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ specs/                           # Arquivos de teste (.robot)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.robot                  # Testes de autentica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register.robot               # Testes de cadastro
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.robot                # Testes de perfil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ listUsers.robot              # Testes de listagem
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ recoverPassword.robot        # Testes de recupera√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ resources/                       # Keywords e recursos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keywords.resource            # Keywords principais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loginKeywords.resource       # Keywords de login
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ registerKeywords.resource    # Keywords de cadastro
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profileKeywords.resource     # Keywords de perfil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ listUsersKeywords.resource   # Keywords de listagem
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ recoverKeywords.resource     # Keywords de recupera√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ library/                         # Bibliotecas Python
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomDataLibrary.py         # Gera√ß√£o de dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomLibrary.py             # Utilit√°rios gerais
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GenerateCPFLibrary.py        # Gera√ß√£o de CPF
‚îÇ   ‚îî‚îÄ‚îÄ data/                            # Dados e vari√°veis
‚îÇ       ‚îî‚îÄ‚îÄ variables.py                 # Vari√°veis globais
‚îú‚îÄ‚îÄ results/                             # Relat√≥rios e logs
‚îÇ   ‚îú‚îÄ‚îÄ reports/                         # Relat√≥rios HTML
‚îÇ   ‚îú‚îÄ‚îÄ logs/                            # Logs de execu√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ screenshots/                     # Screenshots de falhas
‚îú‚îÄ‚îÄ requirements.txt                     # Depend√™ncias Python
‚îú‚îÄ‚îÄ Makefile                             # Comandos simplificados
‚îú‚îÄ‚îÄ package.json                         # Metadados do projeto
‚îú‚îÄ‚îÄ args.robotargs                       # Argumentos do Robot
‚îî‚îÄ‚îÄ CHANGELOG.md                         # Hist√≥rico de mudan√ßas
```

## ‚öôÔ∏è Configura√ß√µes Avan√ßadas

### üîß Configura√ß√£o do Robot Framework

O projeto utiliza configura√ß√µes otimizadas para performance e legibilidade:

```robot
*** Settings ***
Documentation       Suite de testes para validar funcionalidades.

Resource            ../resources/keywords.resource
Resource            ../resources/loginKeywords.resource

Test Setup          Preparar Teste    ${BASE_URL}
Test Teardown       Fechar O Navegador

*** Test Cases ***
Cen√°rio 1: Deveria Ser Poss√≠vel Fazer Login
    [Documentation]    Testa login com credenciais v√°lidas.
    Digitar O Email Do Usuario    generic@example.com
    Digitar O Password Do Usuario    123456
    Clicar No Bot√£o De Entrar Na Conta
    Verificar O Feedback Do Usuario    Login realizado com sucesso!
```

### üåê Vari√°veis de Ambiente

```python
# tests/data/variables.py
API_URL = "http://localhost:3001"
BASE_URL = "http://localhost:8181/"

# Credenciais
EMAIL = "generic@example.com"
PASSWORD = "123456"

# Mensagens
TOAST_MESSAGE = "Por favor, corrija os erros no formul√°rio."
INPUT_NAMES = ["fullname", "cpfcnpj", "email", "password", "password-confirmation"]
INPUT_ERRORS = ["O Nome Completo √© obrigat√≥rio.", "O CPF/CNPJ √© obrigat√≥rio.", ...]
```

### üîß Configura√ß√£o do Makefile

```makefile
# Diret√≥rios e arquivos
TESTS_DIR = tests/specs
OUTPUT_DIR = results/reports
OUTPUT_DIR_BROWSER = results
PROCESSES = 4

# Comandos principais
test-all: clean
	@echo "Executando todos os testes com Robot Framework..."
	BROWSER_OUTPUTDIR=$(OUTPUT_DIR_BROWSER)/screenshots robot --outputdir $(OUTPUT_DIR) $(TESTS_DIR)

parallel: clean
	@echo "Executando testes em paralelo com Pabot..."
	BROWSER_OUTPUTDIR=$(OUTPUT_DIR_BROWSER)/screenshots pabot --processes $(PROCESSES) --outputdir $(OUTPUT_DIR) $(TESTS_DIR)

lint:
	@echo "Verificando a qualidade do c√≥digo com Robocop..."
	robocop -ft .robot,.resource $(TESTS_DIR)
```

## üìö Keywords e Recursos

### üîê Keywords de Autentica√ß√£o

```robot
*** Keywords ***
Preparar Teste Com API
    [Arguments]    ${BASE_URL}    ${route}=
    Abrir O Navegador    ${BASE_URL}
    Login Via API
    Navegar Para A Rota    ${route}

Login Via API
    ${payload}=    Evaluate    {"email": "${EMAIL}", "password": "${PASSWORD}"}    json
    ${response}=    POST    ${API_URL}/auth/login    json=${payload}
    Should Be Equal As Numbers    ${response.status_code}    200
    
    ${responseJson}=    Evaluate    ${response.text}    json
    ${token}=    Set Variable    ${responseJson["token"]}
    
    LocalStorage Set Item    user-token    ${token}
```

### üé≤ Keywords de Gera√ß√£o de Dados

```robot
*** Keywords ***
Preencher Todos Os Campos
    ${cpf}=    Generate Valid Cpf
    ${fullName}=    Generate Full Name
    ${email}=    Generate Email
    ${phone}=    Generate Phone
    
    Fill Text    css=[data-testid="input-fullname"]    ${fullName}
    Fill Text    css=[data-testid="input-socialname"]    Nome Social
    Fill Text    css=[data-testid="input-document"]    ${cpf}
    Fill Text    css=[data-testid="input-phone"]    ${phone}
    Fill Text    css=[data-testid="input-email"]    ${email}
    Fill Text    css=[data-testid="input-password"]    123456
    Fill Text    css=[data-testid="input-password-confirmation"]    123456
```

### üß™ Padr√£o de Testes

```robot
*** Test Cases ***
Cen√°rio 1: Deveria Ser Poss√≠vel Fazer Login Com Credenciais V√°lidas
    [Documentation]    Testa login com credenciais corretas.
    [Tags]    login    smoke
    Digitar O Email Do Usuario    generic@example.com
    Digitar O Password Do Usuario    123456
    Clicar No Bot√£o De Entrar Na Conta
    Verificar O Feedback Do Usuario    Login realizado com sucesso!
```

## üõ†Ô∏è Bibliotecas Customizadas

### üé≤ CustomDataLibrary

```python
from faker import Faker

class CustomDataLibrary:
    def __init__(self):
        self.faker = Faker("pt_BR")
    
    def generate_full_name(self):
        return self.faker.name()
    
    def generate_first_name(self):
        return self.faker.first_name()

    def generate_email(self):
        return self.faker.email()

    def generate_phone(self):
        return '(12) 9 8888-7777'
```

### üéØ GenerateCPFLibrary

```python
import random

class GenerateCPFLibrary:
    def generate_valid_cpf(self):
        """Gera um CPF v√°lido aleat√≥rio."""
        def calculate_digit(cpf):
            weights = range(len(cpf) + 1, 1, -1)
            total = sum(int(digit) * weight for digit, weight in zip(cpf, weights))
            remainder = total % 11
            return str(11 - remainder if remainder > 1 else 0)

        cpf_base = [random.randint(0, 9) for _ in range(9)]
        cpf_base.append(int(calculate_digit(cpf_base)))
        cpf_base.append(int(calculate_digit(cpf_base)))
        return "".join(map(str, cpf_base))
```

### üîß CustomLibrary

```python
from urllib.parse import urlparse

class CustomLibrary:
    def __init__(self):
        pass

    def parse_url(self, url):
        """Analisa uma URL e retorna os componentes como um objeto ParseResult."""
        parsed_url = urlparse(url)
        return parsed_url
    
    def get_from_list(self, lst, index):
        """Retorna o elemento da lista no √≠ndice especificado."""
        return lst[index]

    def get_list_length(self, lst):
        """Retorna o comprimento da lista."""
        return len(lst)
```

## üõ†Ô∏è Depend√™ncias Principais

### Produ√ß√£o
- **Robot Framework**: `7.1.1` - Framework de automa√ß√£o
- **Browser Library**: `19.0.1` - Automa√ß√£o de navegadores com Playwright
- **Requests Library**: `0.9.7` - Testes de API
- **Faker**: `33.1.0` - Gera√ß√£o de dados fict√≠cios
- **Python-dotenv**: `1.0.1` - Gerenciamento de vari√°veis de ambiente

### Desenvolvimento
- **Pabot**: `2.18.0` - Execu√ß√£o paralela de testes
- **Robocop**: `5.5.0` - Linting e qualidade de c√≥digo
- **Robotidy**: `4.14.0` - Formata√ß√£o de arquivos .robot
- **Assertion Engine**: `3.0.3` - Engine de assertions
- **Stacktrace**: `0.4.1` - Rastreamento de stack traces

## üöÄ Otimiza√ß√µes de Performance

### ‚ö° Configura√ß√µes de Paraleliza√ß√£o
- **Pabot**: Execu√ß√£o paralela com 4 processos
- **Browser Isolation**: Cada processo executa em navegador isolado
- **Resource Sharing**: Compartilhamento otimizado de recursos
- **Result Aggregation**: Consolida√ß√£o autom√°tica de resultados

### üîß Configura√ß√µes do Browser
- **Headless Mode**: Suporte para execu√ß√£o sem interface gr√°fica
- **Screenshot**: Capturas autom√°ticas em caso de falha
- **Video Recording**: Grava√ß√£o de v√≠deos para debugging
- **Network Interception**: Intercepta√ß√£o de requisi√ß√µes de rede
