---
sidebar_position: 4
---

# ğŸ“Š RelatÃ³rios e Cobertura

## ğŸ“‹ VisÃ£o Geral

O projeto Selenium implementa um sistema abrangente de relatÃ³rios e monitoramento que fornece insights detalhados sobre a execuÃ§Ã£o dos testes, cobertura de cÃ³digo, logs de execuÃ§Ã£o e mÃ©tricas de performance.

## ğŸ“ˆ RelatÃ³rios de Cobertura de CÃ³digo

### ğŸ¯ ConfiguraÃ§Ã£o
O projeto utiliza **JaCoCo** (Java Code Coverage) para gerar relatÃ³rios detalhados de cobertura de cÃ³digo durante a execuÃ§Ã£o dos testes.

### ğŸ“Š Tipos de RelatÃ³rios
- **HTML**: RelatÃ³rio visual interativo com navegaÃ§Ã£o por arquivos
- **XML**: Formato estruturado para integraÃ§Ã£o com ferramentas CI/CD
- **CSV**: Dados tabulares para anÃ¡lise em planilhas

### ğŸš€ GeraÃ§Ã£o de RelatÃ³rios
```bash
# Via Makefile
make coverage

# Via Gradle
./gradlew jacocoTestReport

# Executar testes e gerar cobertura
./gradlew test jacocoTestReport
```

### ğŸ“ Estrutura dos RelatÃ³rios
```plaintext
build/reports/
â”œâ”€â”€ jacoco/                              # RelatÃ³rios de cobertura
â”‚   â”œâ”€â”€ test/                            # RelatÃ³rios de teste
â”‚   â”‚   â”œâ”€â”€ html/                        # RelatÃ³rio HTML interativo
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html               # Dashboard principal
â”‚   â”‚   â”‚   â”œâ”€â”€ jacoco-resources/        # Assets estÃ¡ticos
â”‚   â”‚   â”‚   â””â”€â”€ [pacotes].html           # Cobertura por pacote
â”‚   â”‚   â”œâ”€â”€ jacocoTestReport.xml         # Dados XML para CI/CD
â”‚   â”‚   â””â”€â”€ jacocoTestReport.csv         # Dados CSV
â”‚   â””â”€â”€ jacocoTestReport.xml             # RelatÃ³rio consolidado
â””â”€â”€ tests/                               # RelatÃ³rios de execuÃ§Ã£o
    â”œâ”€â”€ test/                            # RelatÃ³rios de teste
    â”‚   â”œâ”€â”€ index.html                   # Dashboard de testes
    â”‚   â”œâ”€â”€ classes/                     # Resultados por classe
    â”‚   â””â”€â”€ packages/                    # Resultados por pacote
    â””â”€â”€ test-results/                    # Resultados JUnit XML
        â””â”€â”€ TEST-*.xml                   # Arquivos XML individuais
```

## ğŸ“Š RelatÃ³rios de ExecuÃ§Ã£o

### ğŸ¯ ConfiguraÃ§Ã£o AutomÃ¡tica
- **LocalizaÃ§Ã£o**: `./build/reports/tests/test/`
- **Formato**: HTML com navegaÃ§Ã£o interativa
- **Trigger**: Gerado automaticamente a cada execuÃ§Ã£o de testes

### ğŸ“‹ CaracterÃ­sticas dos RelatÃ³rios
- **Dashboard Principal**: VisÃ£o geral de todos os testes
- **Detalhamento por Classe**: Resultados especÃ­ficos de cada classe de teste
- **Detalhamento por Pacote**: Agrupamento por pacotes Java
- **Timeline de ExecuÃ§Ã£o**: VisualizaÃ§Ã£o temporal dos testes
- **MÃ©tricas de Performance**: Tempo de execuÃ§Ã£o por teste

### ğŸ”§ ConfiguraÃ§Ã£o AvanÃ§ada
```gradle
// build.gradle
test {
    reports {
        html.required = true              // RelatÃ³rio HTML
        junitXml.required = true          // RelatÃ³rio JUnit XML
        junitXml.outputPerTestCase = true // XML por teste
    }
    
    testLogging {
        events 'passed', 'skipped', 'failed'
        exceptionFormat = 'short'
        showStandardStreams = false
        showStackTraces = true
        showCauses = true
    }
}
```

## ğŸ“ Logs e Debugging

### âš™ï¸ ConfiguraÃ§Ã£o de Logging
```xml
<!-- src/test/resources/logback-test.xml -->
<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>
    
    <logger name="com.qa.solar" level="DEBUG"/>
    <logger name="org.openqa.selenium" level="INFO"/>
    
    <root level="INFO">
        <appender-ref ref="STDOUT"/>
    </root>
</configuration>
```

### ğŸ“Š NÃ­veis de Log
- **DEBUG**: InformaÃ§Ãµes detalhadas para debugging
- **INFO**: InformaÃ§Ãµes gerais de execuÃ§Ã£o
- **WARN**: Avisos sobre situaÃ§Ãµes anÃ´malas
- **ERROR**: Erros que nÃ£o impedem a execuÃ§Ã£o

### ğŸ” Logs EspecÃ­ficos
- **Selenium**: Logs de interaÃ§Ã£o com o navegador
- **API Calls**: Logs de requisiÃ§Ãµes HTTP
- **Test Execution**: Logs de execuÃ§Ã£o dos testes
- **Data Generation**: Logs de geraÃ§Ã£o de dados

## ğŸ“Š MÃ©tricas e AnÃ¡lise

### ğŸ¯ MÃ©tricas DisponÃ­veis
- **Taxa de Sucesso**: Percentual de testes que passam
- **Tempo de ExecuÃ§Ã£o**: DuraÃ§Ã£o mÃ©dia e total dos testes
- **Cobertura de CÃ³digo**: Percentual de cÃ³digo coberto por testes
- **Performance**: AnÃ¡lise de tempo de resposta por teste
- **Retry Rate**: FrequÃªncia de tentativas de retry

### ğŸ“ˆ Dashboard de MÃ©tricas
O relatÃ³rio HTML inclui:
- **Resumo Executivo**: VisÃ£o geral dos resultados
- **GrÃ¡ficos de Performance**: VisualizaÃ§Ã£o temporal
- **AnÃ¡lise de Cobertura**: Detalhamento por classe e mÃ©todo
- **AnÃ¡lise de Falhas**: Detalhamento de erros
- **ComparaÃ§Ã£o HistÃ³rica**: TendÃªncias ao longo do tempo

## ğŸ› ï¸ ConfiguraÃ§Ãµes AvanÃ§adas

### ğŸ”§ PersonalizaÃ§Ã£o de RelatÃ³rios
```gradle
// build.gradle
jacocoTestReport {
    reports {
        html.required = true
        xml.required = true
        csv.required = false
    }
    
    // ConfiguraÃ§Ãµes de cobertura
    afterEvaluate {
        classDirectories.setFrom(files(classDirectories.files.collect {
            fileTree(dir: it, exclude: [
                '**/BaseTest.class',
                '**/GenerateUsers.class',
                '**/MockGenerateUsers.class'
            ])
        }))
    }
}
```

### ğŸ“Š MÃºltiplos Formatos
- **HTML**: RelatÃ³rio visual interativo
- **XML**: Dados estruturados para integraÃ§Ã£o
- **CSV**: Dados tabulares para anÃ¡lise
- **Console**: Output detalhado no terminal

### ğŸŒ IntegraÃ§Ã£o com CI/CD
```yaml
# Exemplo para GitHub Actions
- name: Run Selenium tests
  run: make test

- name: Generate coverage report
  run: make coverage

- name: Upload test results
  uses: actions/upload-artifact@v3
  if: always()
  with:
    name: selenium-test-results
    path: |
      build/reports/tests/test/
      build/reports/jacoco/test/html/
```

## ğŸ“‹ Boas PrÃ¡ticas

### ğŸ¯ OtimizaÃ§Ã£o de RelatÃ³rios
- **ExclusÃµes**: Excluir classes utilitÃ¡rias da cobertura
- **Thresholds**: Definir limites mÃ­nimos de cobertura
- **Cleanup**: Implementar limpeza automÃ¡tica de relatÃ³rios antigos
- **Aggregation**: Consolidar relatÃ³rios de mÃºltiplos mÃ³dulos

### ğŸ“Š AnÃ¡lise de Resultados
- **Revisar Falhas**: Analisar logs e stack traces de falhas
- **Monitorar Performance**: Acompanhar tendÃªncias de tempo de execuÃ§Ã£o
- **Identificar Gaps**: Corrigir lacunas na cobertura de cÃ³digo
- **Documentar PadrÃµes**: Registrar padrÃµes de falha para melhorias

### ğŸ”§ ConfiguraÃ§Ãµes de Performance
```gradle
// gradle.properties
org.gradle.parallel=true
org.gradle.caching=true
org.gradle.configureondemand=true
org.gradle.jvmargs=-Xmx2g -XX:MaxMetaspaceSize=512m
```

### ğŸ“ˆ MÃ©tricas de Qualidade
- **Cobertura MÃ­nima**: 80% de cobertura de cÃ³digo
- **Tempo MÃ¡ximo**: 10 minutos para execuÃ§Ã£o completa
- **Taxa de Sucesso**: 95% de testes passando
- **Retry Rate**: MÃ¡ximo 5% de retry automÃ¡tico

## ğŸš€ Comandos Ãšteis

### ğŸ“Š VisualizaÃ§Ã£o de RelatÃ³rios
```bash
# Abrir relatÃ³rio de cobertura no navegador
open build/reports/jacoco/test/html/index.html

# Abrir relatÃ³rio de testes no navegador
open build/reports/tests/test/index.html

# Ver resumo no terminal
./gradlew test --console=plain
```

### ğŸ” Debugging
```bash
# Executar com logs detalhados
./gradlew test --info --debug

# Executar teste especÃ­fico
./gradlew test --tests "LoginTest.shouldLoginWithValidCredentials"

# Executar com relatÃ³rio detalhado
./gradlew test --info --console=plain
```
