---
sidebar_position: 7
---

# K6

![K6 Version](https://img.shields.io/badge/k6-v0.57.0-green)

Projeto de testes de performance utilizando o K6. Este projeto faz parte do monorepo QA Solar e foca em cenÃ¡rios complexos de testes.

## ğŸ“‹ Ãndice

- [ğŸ“‚ Estrutura do Projeto](#-estrutura-do-projeto)
- [ğŸ”§ InstalaÃ§Ã£o](#-instalaÃ§Ã£o)
- [ğŸš€ Executando os Testes](#-executando-os-testes)
- [ğŸ“ CenÃ¡rios de Teste](#-cenÃ¡rios-de-teste)
- [ğŸ“ Adicionando Novos Testes](#-adicionando-novos-testes)
- [ğŸ“Š RelatÃ³rios](#-relatÃ³rios)

## ğŸ“‚ Estrutura do Projeto

```
performance/
â”œâ”€â”€ k6/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ base.js      # ConfiguraÃ§Ãµes base para todos os testes
â”‚   â”‚   â”‚   â””â”€â”€ scenarios.js # ConfiguraÃ§Ãµes dos cenÃ¡rios de teste
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â””â”€â”€ http.js      # UtilitÃ¡rios para requisiÃ§Ãµes HTTP
â”‚   â”‚   â””â”€â”€ index.js         # Ponto de entrada dos testes
â”‚   â””â”€â”€ tests/
â”‚       â””â”€â”€ login.test.js    # Testes especÃ­ficos do endpoint de login
â”œâ”€â”€ reports/                 # Reportes e logs dos testes
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”§ InstalaÃ§Ã£o

1. Instale o K6 seguindo as instruÃ§Ãµes em [https://k6.io/docs/get-started/installation/](https://k6.io/docs/get-started/installation/)
2. Instale as dependÃªncias do projeto:
   ```bash
   yarn install
   ```

## ğŸš€ Executando os Testes

O projeto possui scripts prÃ©-configurados para executar diferentes cenÃ¡rios de teste:

- Executar todos os cenÃ¡rios:
  ```bash
  yarn run test
  ```

- Executar cenÃ¡rio especÃ­fico:
  ```bash
  yarn run test -- --env SCENARIO=login_success    # Teste de login bem-sucedido
  yarn run test -- --env SCENARIO=login_invalid    # Teste de login com credenciais invÃ¡lidas
  yarn run test -- --env SCENARIO=login_concurrent # Teste de login com carga concorrente
  yarn run test -- --env SCENARIO=login_ramp       # Teste de login com aumento progressivo
  ```

## ğŸ“ CenÃ¡rios de Teste

1. **Login Bem-sucedido (login_success)**
   - 1 usuÃ¡rio virtual
   - 100 iteraÃ§Ãµes
   - DuraÃ§Ã£o mÃ¡xima: 2 minutos

2. **Login com Credenciais InvÃ¡lidas (login_invalid)**
   - 1 usuÃ¡rio virtual
   - 50 iteraÃ§Ãµes
   - DuraÃ§Ã£o mÃ¡xima: 1 minuto

3. **Login Sob Carga Concorrente (login_concurrent)**
   - 100 usuÃ¡rios virtuais
   - 1 iteraÃ§Ã£o por usuÃ¡rio
   - DuraÃ§Ã£o mÃ¡xima: 2 minutos

4. **Aumento Progressivo (login_ramp)**
   - Aumento gradual de 0 a 20 usuÃ¡rios em 30s
   - Aumento para 50 usuÃ¡rios em 30s
   - ReduÃ§Ã£o gradual para 0 usuÃ¡rios em 30s

## ğŸ“ Adicionando Novos Testes

Para adicionar novos testes:

1. Crie um novo arquivo em `k6/tests/` para o endpoint especÃ­fico
2. Implemente as funÃ§Ãµes de teste necessÃ¡rias
3. Adicione os cenÃ¡rios correspondentes em `k6/src/config/scenarios.js`
4. Atualize o `k6/src/index.js` para incluir os novos testes

## ğŸ“Š RelatÃ³rios

Os relatÃ³rios sÃ£o gerados automaticamente apÃ³s a execuÃ§Ã£o dos testes usando o plugin k6-html-reporter.
