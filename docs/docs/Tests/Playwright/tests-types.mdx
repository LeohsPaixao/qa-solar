---
sidebar_position: 3
---

# ğŸ§ª Tipos de Testes

## ğŸ“‹ VisÃ£o Geral

O projeto Playwright implementa testes end-to-end (E2E) focados na validaÃ§Ã£o de fluxos completos da aplicaÃ§Ã£o, garantindo que todas as funcionalidades crÃ­ticas funcionem corretamente desde a interface do usuÃ¡rio atÃ© a integraÃ§Ã£o com APIs e banco de dados.

## ğŸ”„ Testes End-to-End (E2E)

### ğŸ¯ Objetivo
Os testes E2E simulam o comportamento real do usuÃ¡rio, validando fluxos completos da aplicaÃ§Ã£o desde a interface atÃ© a integraÃ§Ã£o com APIs e banco de dados.

### ğŸ“Š Cobertura Atual
- **AutenticaÃ§Ã£o**: Login, logout e recuperaÃ§Ã£o de senha
- **Cadastro**: Registro de novos usuÃ¡rios com validaÃ§Ãµes completas
- **Perfil**: EdiÃ§Ã£o e atualizaÃ§Ã£o de dados do usuÃ¡rio
- **Listagem**: VisualizaÃ§Ã£o e gerenciamento de usuÃ¡rios
- **NavegaÃ§Ã£o**: Fluxos de navegaÃ§Ã£o entre pÃ¡ginas
- **ValidaÃ§Ãµes**: Testes de validaÃ§Ã£o de formulÃ¡rios e campos

### ğŸ› ï¸ CaracterÃ­sticas TÃ©cnicas
- **Base URL**: `http://localhost:8181`
- **Timeout**: 5 segundos para assertions
- **Retry Strategy**: 2 tentativas em ambiente CI
- **API Integration**: Testes diretos com APIs REST
- **Multi-browser**: Suporte para Chromium (configurÃ¡vel para outros)

## ğŸ“ Exemplos de ImplementaÃ§Ã£o

### ğŸ” Teste de Login

```typescript
test.describe('Tela de Login', {
  annotation: { type: 'Test', description: 'Teste de login' },
}, () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/');
  });

  test('Deveria ser possÃ­vel fazer login com credenciais vÃ¡lidas', async ({ page }) => {
    await expect(page.locator('[data-testid="btn-login"]')).toBeDisabled();
    await page.locator('[data-testid="input-email"]').fill('generic@example.com');
    await page.locator('[data-testid="input-password"]').fill('123456');
    await expect(page.locator('[data-testid="btn-login"]')).toBeEnabled();
    await page.locator('[data-testid="btn-login"]').click();
    
    const toastContent = page.locator('[data-testid="toast-content"]');
    await expect(toastContent).toHaveText('Login realizado com sucesso!');
  });
});
```

### ğŸ“ Teste de Cadastro

```typescript
test.describe('Tela de Cadastro de UsuÃ¡rios', {
  annotation: { type: 'Test', description: 'Teste de cadastro de usuÃ¡rio' },
}, () => {
  test('Deveria ser possivel cadastrar um usuÃ¡rio', async ({ page }) => {
    const cpf = generateValidCPF();
    
    await page.locator('[data-testid="input-fullname"]').fill(faker.person.fullName());
    await page.locator('[data-testid="input-socialname"]').fill(faker.person.middleName());
    await page.locator('[data-testid="input-document"]').fill(cpf);
    await page.locator('[data-testid="input-phone"]').fill(faker.phone.number({ style: 'national' }));
    await page.locator('[data-testid="input-email"]').fill(faker.internet.email({ provider: 'example.qa.solar' }));
    await page.locator('[data-testid="input-password"]').fill('123456');
    await page.locator('[data-testid="input-password-confirmation"]').fill('123456');
    await page.locator('[data-testid="btn-register"]').click();

    const toast = page.locator('[data-testid="toast-content"]');
    await toast.waitFor({ state: 'visible' });
    await expect(toast).toHaveText('UsuÃ¡rio criado com sucesso!');
  });
});
```

### ğŸ‘¤ Teste de Perfil

```typescript
test.describe('Tela de Perfil', {
  annotation: { type: 'Test', description: 'Teste de perfil' },
}, () => {
  test.beforeEach(async ({ page }) => {
    login(page, 'generic@example.com', '123456');
    await page.goto('/profile');
    await page.waitForURL('/profile');
  });

  test('Deveria ser possÃ­vel salvar a alteraÃ§Ã£o', async ({ page }) => {
    const fullName = faker.person.fullName();
    const phone = faker.phone.number({ style: 'national' });
    const socialName = faker.person.firstName();

    await page.locator('[data-testid="input-fullname-profile"]').fill(fullName);
    await page.locator('[data-testid="input-phone-profile"]').fill(phone);
    await page.locator('[data-testid="input-socialname-profile"]').fill(socialName);
    await page.locator('[data-testid="btn-save-profile"]').click();
    
    await expect(page.locator('[data-testid="toast-content"]')).toBeVisible();
    await expect(page.locator('[data-testid="toast-content"]')).toHaveText('UsuÃ¡rio alterado com sucesso!');
  });
});
```

### ğŸ“‹ Teste de Listagem

```typescript
test.describe('Tela de listagem de UsuÃ¡rios', {
  annotation: { type: 'Test', description: 'Teste de listagem de usuÃ¡rios' },
}, () => {
  test.beforeAll(async () => {
    await generateUsers();
  });

  test.beforeEach(async ({ page }) => {
    login(page, 'generic@example.com', '123456');
    await page.goto('/listusers');
    await page.waitForURL('/listusers');
  });

  test('Deveria ser possÃ­vel selecionar um usuÃ¡rio e excluÃ­-lo', async ({ page }) => {
    const userCheckbox = page.locator('[data-testid="checkbox-select-users"]').nth(2);
    await userCheckbox.check();
    const deleteButton = page.locator('[data-testid="btn-delete-user"]');
    await deleteButton.scrollIntoViewIfNeeded();
    await deleteButton.click();
    
    const toastContent = page.locator('[data-testid="toast-content"]').first();
    await expect(toastContent).toBeVisible();
    await expect(toastContent).toHaveText('1 usuÃ¡rio(s) excluÃ­do(s) com sucesso!');
  });
});
```

## ğŸ¯ EstratÃ©gias de Teste

### ğŸ“‹ PadrÃµes de Nomenclatura
- **Describe**: `test.describe('Tela de [Funcionalidade]')`
- **Testes**: `test('Deveria [comportamento esperado]')`
- **AnotaÃ§Ãµes**: Uso de annotations para documentaÃ§Ã£o

### ğŸ”§ Utilidades Compartilhadas
- **fillUserForm()**: Preenchimento automÃ¡tico de formulÃ¡rios
- **generateValidCPF()**: GeraÃ§Ã£o de CPFs vÃ¡lidos para testes
- **login()**: AutenticaÃ§Ã£o automatizada via API
- **generateUsers()**: CriaÃ§Ã£o de usuÃ¡rios para testes

### ğŸ¨ Seletores de Teste
- **PadrÃ£o**: `[data-testid="elemento"]`
- **ConsistÃªncia**: Todos os elementos interativos possuem data-testid
- **Manutenibilidade**: Seletores independentes de mudanÃ§as de CSS

### ğŸ”„ Hooks e Setup
- **beforeAll**: ConfiguraÃ§Ã£o inicial (ex: geraÃ§Ã£o de dados)
- **beforeEach**: Setup antes de cada teste (ex: login, navegaÃ§Ã£o)
- **afterEach**: Limpeza apÃ³s cada teste
- **afterAll**: Limpeza final

## ğŸ“Š MÃ©tricas de Qualidade

### ğŸ¯ Cobertura de Testes
- **Fluxos Principais**: 5 fluxos principais cobertos
- **CenÃ¡rios**: 30+ cenÃ¡rios de teste implementados
- **ValidaÃ§Ãµes**: Cobertura completa de validaÃ§Ãµes de formulÃ¡rio

### âš¡ Performance
- **ExecuÃ§Ã£o E2E**: ~3-5 minutos
- **Retry Rate**: 2 tentativas em CI para estabilidade
- **Workers**: 1 worker para evitar conflitos de dados

### ğŸ›¡ï¸ Confiabilidade
- **API Integration**: Testes diretos com APIs para maior confiabilidade
- **Data Isolation**: GeraÃ§Ã£o de dados Ãºnicos para cada execuÃ§Ã£o
- **Error Handling**: Tratamento robusto de erros e timeouts
