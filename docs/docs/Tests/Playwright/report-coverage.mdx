---
sidebar_position: 4
---

# ğŸ“Š RelatÃ³rios e Cobertura

## ğŸ“‹ VisÃ£o Geral

O projeto Playwright implementa um sistema abrangente de relatÃ³rios e monitoramento que fornece insights detalhados sobre a execuÃ§Ã£o dos testes, capturas de tela, gravaÃ§Ãµes de vÃ­deo e rastreamento de falhas.

## ğŸ“ˆ RelatÃ³rios HTML

### ğŸ¯ ConfiguraÃ§Ã£o
O projeto utiliza o **reporter HTML** padrÃ£o do Playwright para gerar relatÃ³rios visuais interativos com anÃ¡lise detalhada de cada execuÃ§Ã£o de teste.

### ğŸ“Š CaracterÃ­sticas dos RelatÃ³rios
- **Interface Interativa**: NavegaÃ§Ã£o intuitiva pelos resultados
- **Detalhamento por Teste**: InformaÃ§Ãµes especÃ­ficas de cada cenÃ¡rio
- **Timeline de ExecuÃ§Ã£o**: VisualizaÃ§Ã£o temporal dos testes
- **Filtros AvanÃ§ados**: Busca por status, duraÃ§Ã£o e outros critÃ©rios
- **MÃ©tricas de Performance**: AnÃ¡lise de tempo de execuÃ§Ã£o

### ğŸš€ GeraÃ§Ã£o e VisualizaÃ§Ã£o
```bash
# Executar testes (gera relatÃ³rio automaticamente)
yarn play:run

# Visualizar relatÃ³rio HTML
yarn play:report
```

### ğŸ“ Estrutura dos RelatÃ³rios
```plaintext
tests/misc/reports/
â”œâ”€â”€ playwright-report/                    # RelatÃ³rio HTML interativo
â”‚   â”œâ”€â”€ index.html                       # Dashboard principal
â”‚   â”œâ”€â”€ static/                          # Assets estÃ¡ticos
â”‚   â”‚   â”œâ”€â”€ styles.css                   # Estilos do relatÃ³rio
â”‚   â”‚   â””â”€â”€ app.js                       # JavaScript do relatÃ³rio
â”‚   â”œâ”€â”€ data/                            # Dados dos testes
â”‚   â”‚   â”œâ”€â”€ test-results.json            # Resultados em JSON
â”‚   â”‚   â””â”€â”€ attachments/                 # Anexos (screenshots, traces)
â”‚   â””â”€â”€ [test-files].html                # PÃ¡ginas individuais de teste
```

## ğŸ“¸ Capturas de Tela

### ğŸ¯ ConfiguraÃ§Ã£o AutomÃ¡tica
- **LocalizaÃ§Ã£o**: `./tests/misc/reports/playwright-report/data/attachments/`
- **Trigger**: Capturas automÃ¡ticas em caso de falha de teste
- **Formato**: PNG com timestamp para identificaÃ§Ã£o
- **ConfiguraÃ§Ã£o**: `screenshot: 'only-on-failure'`

### ğŸ“‹ CenÃ¡rios de Captura
- **Falhas de Teste**: Screenshots automÃ¡ticos quando testes falham
- **Assertions**: Capturas durante verificaÃ§Ãµes de elementos
- **Debugging**: Screenshots manuais com `await page.screenshot()`

### ğŸ”§ ConfiguraÃ§Ã£o AvanÃ§ada
```typescript
// playwright.config.ts
export default defineConfig({
  use: {
    screenshot: 'only-on-failure',        // Apenas em falhas
    // screenshot: 'on',                  // Sempre capturar
    // screenshot: 'off',                 // Nunca capturar
  },
});
```

## ğŸ¥ GravaÃ§Ãµes de VÃ­deo

### âš™ï¸ ConfiguraÃ§Ã£o
```typescript
// playwright.config.ts
export default defineConfig({
  use: {
    video: 'retain-on-failure',          // Manter apenas em falhas
    // video: 'on',                      // Sempre gravar
    // video: 'off',                     // Nunca gravar
  },
});
```

### ğŸ“Š Quando Usar
- **Debugging**: Habilitar para investigar falhas complexas
- **CI/CD**: Ãštil em ambientes de integraÃ§Ã£o contÃ­nua
- **Performance**: Configurar conforme necessidade de anÃ¡lise

### ğŸ“ LocalizaÃ§Ã£o dos VÃ­deos
```plaintext
tests/misc/reports/
â””â”€â”€ [test-name]-[browser]/
    â””â”€â”€ video.webm                       # GravaÃ§Ã£o do teste
```

## ğŸ” Trace Viewer

### ğŸ¯ ConfiguraÃ§Ã£o
```typescript
// playwright.config.ts
export default defineConfig({
  use: {
    trace: 'on-first-retry',             // Trace apenas no primeiro retry
    // trace: 'on',                      // Sempre gerar trace
    // trace: 'off',                     // Nunca gerar trace
  },
});
```

### ğŸ“Š Funcionalidades
- **Timeline Detalhada**: VisualizaÃ§Ã£o completa da execuÃ§Ã£o
- **Network Requests**: Monitoramento de requisiÃ§Ãµes HTTP
- **Console Logs**: Captura de logs do console
- **DOM Snapshots**: Estados do DOM durante a execuÃ§Ã£o
- **Performance Metrics**: MÃ©tricas de performance da pÃ¡gina

### ğŸš€ VisualizaÃ§Ã£o de Traces
```bash
# Abrir trace viewer
npx playwright show-trace trace.zip
```

## ğŸ“Š MÃ©tricas e AnÃ¡lise

### ğŸ¯ MÃ©tricas DisponÃ­veis
- **Taxa de Sucesso**: Percentual de testes que passam
- **Tempo de ExecuÃ§Ã£o**: DuraÃ§Ã£o mÃ©dia e total dos testes
- **Flaky Tests**: IdentificaÃ§Ã£o de testes instÃ¡veis
- **Performance**: AnÃ¡lise de tempo de resposta por teste
- **Retry Rate**: FrequÃªncia de tentativas de retry

### ğŸ“ˆ Dashboard de MÃ©tricas
O relatÃ³rio HTML inclui:
- **Resumo Executivo**: VisÃ£o geral dos resultados
- **GrÃ¡ficos de Performance**: VisualizaÃ§Ã£o temporal
- **AnÃ¡lise de Falhas**: Detalhamento de erros
- **ComparaÃ§Ã£o HistÃ³rica**: TendÃªncias ao longo do tempo

## ğŸ› ï¸ ConfiguraÃ§Ãµes AvanÃ§adas

### ğŸ”§ PersonalizaÃ§Ã£o de RelatÃ³rios
```typescript
// playwright.config.ts
export default defineConfig({
  reporter: [
    ['html', { 
      outputFolder: 'custom-reports',
      open: 'never' 
    }],
    ['json', { outputFile: 'results.json' }],
    ['junit', { outputFile: 'results.xml' }],
  ],
});
```

### ğŸ“Š MÃºltiplos Reporters
- **HTML**: RelatÃ³rio visual interativo
- **JSON**: Dados estruturados para integraÃ§Ã£o
- **JUnit**: Formato padrÃ£o para CI/CD
- **Line**: Output simples no terminal
- **List**: Lista detalhada no terminal

### ğŸŒ IntegraÃ§Ã£o com CI/CD
```yaml
# Exemplo para GitHub Actions
- name: Run Playwright tests
  run: yarn play:run

- name: Upload test results
  uses: actions/upload-artifact@v3
  if: always()
  with:
    name: playwright-report
    path: tests/misc/reports/playwright-report/
```

## ğŸ“‹ Boas PrÃ¡ticas

### ğŸ¯ OtimizaÃ§Ã£o de RelatÃ³rios
- **Screenshots**: Configurar apenas para falhas em produÃ§Ã£o
- **VÃ­deos**: Usar `retain-on-failure` para economia de espaÃ§o
- **Traces**: Habilitar apenas quando necessÃ¡rio para debugging
- **Cleanup**: Implementar limpeza automÃ¡tica de relatÃ³rios antigos

### ğŸ“Š AnÃ¡lise de Resultados
- **Revisar Falhas**: Analisar screenshots e traces de falhas
- **Monitorar Performance**: Acompanhar tendÃªncias de tempo de execuÃ§Ã£o
- **Identificar Flaky Tests**: Corrigir testes instÃ¡veis
- **Documentar PadrÃµes**: Registrar padrÃµes de falha para melhorias
