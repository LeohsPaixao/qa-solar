---
sidebar_position: 3
---

# üß™ Tipos de Testes

## üìã Vis√£o Geral

O projeto Selenium implementa testes end-to-end (E2E) focados na valida√ß√£o de fluxos completos da aplica√ß√£o, garantindo que todas as funcionalidades cr√≠ticas funcionem corretamente desde a interface do usu√°rio at√© a integra√ß√£o com APIs e banco de dados.

## üîÑ Testes End-to-End (E2E)

### üéØ Objetivo
Os testes E2E simulam o comportamento real do usu√°rio, validando fluxos completos da aplica√ß√£o desde a interface at√© a integra√ß√£o com APIs e banco de dados.

### üìä Cobertura Atual
- **Autentica√ß√£o**: Login, logout e recupera√ß√£o de senha
- **Cadastro**: Registro de novos usu√°rios com valida√ß√µes completas
- **Perfil**: Edi√ß√£o e atualiza√ß√£o de dados do usu√°rio
- **Listagem**: Visualiza√ß√£o e gerenciamento de usu√°rios
- **Navega√ß√£o**: Fluxos de navega√ß√£o entre p√°ginas
- **Valida√ß√µes**: Testes de valida√ß√£o de formul√°rios e campos

### üõ†Ô∏è Caracter√≠sticas T√©cnicas
- **Base URL**: `http://localhost:8181`
- **Timeout**: 10 segundos para esperas expl√≠citas
- **Browser**: Chrome/Chromium com WebDriverManager
- **API Integration**: Testes diretos com APIs REST
- **Headless Support**: Execu√ß√£o sem interface gr√°fica

## üìù Exemplos de Implementa√ß√£o

### üîê Teste de Login

```java
@DisplayName("Testes de Login")
public class LoginTest extends BaseTest {
    
    @BeforeEach
    public void setUpTest() {
        driver = setUp();
        navigateTo("/");
    }
    
    @Test
    @DisplayName("Deveria ser poss√≠vel fazer login com credenciais v√°lidas")
    public void shouldLoginWithValidCredentials() {
        WebElement inputEmail = driver.findElement(By.cssSelector("[data-testid='input-email']"));
        WebElement inputPassword = driver.findElement(By.cssSelector("[data-testid='input-password']"));
        WebElement btnLogin = driver.findElement(By.cssSelector("[data-testid='btn-login']"));
        
        inputEmail.sendKeys("generic@example.com");
        inputPassword.sendKeys("123456");
        
        assertTrue(btnLogin.isEnabled(), "O elemento deve ser habilitado");
        btnLogin.click();
        
        WebElement toastContent = waitForElementLocated(By.cssSelector("[data-testid='toast-content']"), 10);
        
        assertTrue(toastContent.isDisplayed(), "O elemento deve ser exibido");
        assertTrue(toastContent.getText().contains("Login realizado com sucesso!"), "O texto deve ser exibido");
    }
}
```

### üìù Teste de Cadastro

```java
@DisplayName("Testes de Cadastro")
public class RegisterTest extends BaseTest {
    
    private GenerateValidCPF generateValidCPF = new GenerateValidCPF();
    private Faker faker = new Faker();
    
    @Test
    @DisplayName("Deveria ser poss√≠vel cadastrar um usu√°rio")
    public void shouldCreateUser() {
        String fullName = faker.name().fullName();
        String socialName = faker.name().lastName();
        String email = faker.internet().emailAddress();
        String phone = faker.number().digits(11);
        String password = faker.internet().password(6, 20);
        String document = generateValidCPF.generateValidCPF();
        
        // Preenchimento do formul√°rio
        WebElement inputFullname = waitForElementLocated(By.cssSelector("[data-testid='input-fullname']"), 10);
        WebElement inputSocialname = waitForElementLocated(By.cssSelector("[data-testid='input-socialname']"), 10);
        WebElement inputDocument = waitForElementLocated(By.cssSelector("[data-testid='input-document']"), 10);
        WebElement inputPhone = waitForElementLocated(By.cssSelector("[data-testid='input-phone']"), 10);
        WebElement inputEmail = waitForElementLocated(By.cssSelector("[data-testid='input-email']"), 10);
        WebElement inputPassword = waitForElementLocated(By.cssSelector("[data-testid='input-password']"), 10);
        WebElement inputPasswordConfirmation = waitForElementLocated(By.cssSelector("[data-testid='input-password-confirmation']"), 10);
        WebElement btnRegister = waitForElementLocated(By.cssSelector("[data-testid='btn-register']"), 10);
        
        inputFullname.sendKeys(fullName);
        inputSocialname.sendKeys(socialName);
        inputDocument.sendKeys(document);
        inputPhone.sendKeys(phone);
        inputEmail.sendKeys(email);
        inputPassword.sendKeys(password);
        inputPasswordConfirmation.sendKeys(password);
        btnRegister.click();
        
        WebElement toast = waitForElementLocated(By.cssSelector("[data-testid='toast-content']"), 10);
        assertTrue(toast.isDisplayed());
        assertTrue(toast.getText().contains("Usu√°rio criado com sucesso!"));
    }
}
```

### üë§ Teste de Perfil

```java
@DisplayName("Testes de Perfil")
public class Profile extends BaseTest {
    
    private Faker faker = new Faker();
    
    @BeforeEach
    public void setUpTest() {
        driver = setUp();
        Login login = new Login();
        login.login(driver, "generic@example.com", "123456");
        navigateTo("/profile");
    }
    
    @Test
    @DisplayName("Deveria ser poss√≠vel salvar a altera√ß√£o")
    public void shouldSaveProfile() {
        String fullName = faker.name().fullName();
        String socialName = faker.name().lastName();
        String phone = faker.number().digits(11);
        
        WebElement inputFullName = waitForElementLocated(By.cssSelector("[data-testid='input-fullname-profile']"), 10);
        WebElement inputSocialName = waitForElementLocated(By.cssSelector("[data-testid='input-socialname-profile']"), 10);
        WebElement inputPhone = waitForElementLocated(By.cssSelector("[data-testid='input-phone-profile']"), 10);
        WebElement btnSave = waitForElementLocated(By.cssSelector("[data-testid='btn-save-profile']"), 10);
        
        // Limpar e preencher campos
        ((JavascriptExecutor) driver).executeScript("arguments[0].value = '';", inputFullName);
        inputFullName.sendKeys(fullName);
        ((JavascriptExecutor) driver).executeScript("arguments[0].dispatchEvent(new Event('input'));", inputFullName);
        
        ((JavascriptExecutor) driver).executeScript("arguments[0].value = '';", inputSocialName);
        inputSocialName.sendKeys(socialName);
        ((JavascriptExecutor) driver).executeScript("arguments[0].dispatchEvent(new Event('input'));", inputSocialName);
        
        ((JavascriptExecutor) driver).executeScript("arguments[0].value = '';", inputPhone);
        inputPhone.sendKeys(phone);
        ((JavascriptExecutor) driver).executeScript("arguments[0].dispatchEvent(new Event('input'));", inputPhone);
        
        btnSave.click();
        
        WebElement toast = waitForElementLocated(By.cssSelector("[data-testid='toast-content']"), 10);
        assertTrue(toast.isDisplayed());
        assertTrue(toast.getText().contains("Usu√°rio alterado com sucesso!"));
    }
}
```

### üìã Teste de Listagem

```java
@DisplayName("Testes de Listagem de Usu√°rios")
public class ListUsers extends BaseTest {
    
    @BeforeAll
    public static void setUpAll() {
        GenerateUsers generateUsers = new GenerateUsers();
        generateUsers.generateUsers(10);
    }
    
    @BeforeEach
    public void setUpTest() {
        driver = setUp();
        Login login = new Login();
        login.login(driver, "generic@example.com", "123456");
        navigateTo("/listusers");
    }
    
    @Test
    @DisplayName("Deveria ser poss√≠vel selecionar um usu√°rio e exclu√≠-lo")
    public void shouldSelectUserAndDelete() {
        waitForElementLocated(By.cssSelector("[data-testid='checkbox-select-users']"), 10);
        List<WebElement> checkboxesSelectUsers = driver.findElements(By.cssSelector("[data-testid='checkbox-select-users']"));
        
        checkboxesSelectUsers.get(2).click();
        
        WebElement btnDeleteUser = waitForElementLocated(By.cssSelector("[data-testid='btn-delete-user']"), 10);
        btnDeleteUser.click();
        
        WebElement toastContent = waitForElementLocated(By.cssSelector("[data-testid='toast-content']"), 10);
        
        assertTrue(toastContent.isDisplayed(), "O elemento deve ser exibido");
        assertEquals(toastContent.getText(), "1 usu√°rio(s) exclu√≠do(s) com sucesso!", "A mensagem deve ser exibida");
    }
}
```

## üéØ Estrat√©gias de Teste

### üìã Padr√µes de Nomenclatura
- **Classe**: `@DisplayName("Testes de [Funcionalidade]")`
- **M√©todos**: `@DisplayName("Deveria [comportamento esperado]")`
- **M√©todos de Teste**: `should[Comportamento]()` ou `shouldNot[Comportamento]()`

### üîß Hooks e Setup
- **@BeforeAll**: Configura√ß√£o inicial (ex: gera√ß√£o de dados)
- **@BeforeEach**: Setup antes de cada teste (ex: login, navega√ß√£o)
- **@AfterEach**: Limpeza ap√≥s cada teste (ex: fechar navegador)
- **@AfterAll**: Limpeza final

### üé® Seletores de Teste
- **Padr√£o**: `[data-testid="elemento"]`
- **Consist√™ncia**: Todos os elementos interativos possuem data-testid
- **Manutenibilidade**: Seletores independentes de mudan√ßas de CSS

### üîÑ Esperas e Sincroniza√ß√£o
- **Explicit Waits**: `WebDriverWait` com condi√ß√µes espec√≠ficas
- **Implicit Waits**: Configurados globalmente
- **JavaScript Executor**: Para intera√ß√µes complexas
- **Expected Conditions**: Condi√ß√µes predefinidas do Selenium

## üìä M√©tricas de Qualidade

### üéØ Cobertura de Testes
- **Fluxos Principais**: 5 fluxos principais cobertos
- **Cen√°rios**: 30+ cen√°rios de teste implementados
- **Valida√ß√µes**: Cobertura completa de valida√ß√µes de formul√°rio

### ‚ö° Performance
- **Execu√ß√£o E2E**: ~5-8 minutos
- **Paraleliza√ß√£o**: Configurada para metade dos cores dispon√≠veis
- **Retry Strategy**: Implementada via Gradle

### üõ°Ô∏è Confiabilidade
- **API Integration**: Testes diretos com APIs para maior confiabilidade
- **Data Isolation**: Gera√ß√£o de dados √∫nicos para cada execu√ß√£o
- **Error Handling**: Tratamento robusto de erros e timeouts
- **WebDriverManager**: Gerenciamento autom√°tico de drivers

## üîß Utilit√°rios Avan√ßados

### üé≤ Gera√ß√£o de Dados
```java
// CPF v√°lido
GenerateValidCPF cpfGenerator = new GenerateValidCPF();
String cpf = cpfGenerator.generateValidCPF();

// Dados com JavaFaker
Faker faker = new Faker();
String fullName = faker.name().fullName();
String email = faker.internet().emailAddress();
String phone = faker.number().digits(11);
```

### üîê Autentica√ß√£o via API
```java
Login login = new Login();
login.login(driver, "generic@example.com", "123456");
// Token √© automaticamente armazenado no localStorage
```

### üìä Gera√ß√£o de Usu√°rios
```java
GenerateUsers generateUsers = new GenerateUsers();
generateUsers.generateUsers(10); // Gera 10 usu√°rios via API
```

### üéØ Intera√ß√µes JavaScript
```java
// Limpar campo e disparar eventos
((JavascriptExecutor) driver).executeScript("arguments[0].value = '';", element);
((JavascriptExecutor) driver).executeScript("arguments[0].dispatchEvent(new Event('input'));", element);

// Scroll para elemento
((JavascriptExecutor) driver).executeScript("arguments[0].scrollIntoView(true);", element);
```
