---
sidebar_position: 2
---

# ğŸ“‚ Projeto

## ğŸ”§ ConfiguraÃ§Ã£o e ExecuÃ§Ã£o

### ğŸ“‹ PrÃ©-requisitos

> **âš ï¸ Importante**: Certifique-se de que as dependÃªncias foram instaladas no projeto raiz "qa-solar" e que o comando `yarn dev` foi executado antes de iniciar os testes.

**Requisitos do Sistema:**
- **Java 17+**: JDK necessÃ¡rio para execuÃ§Ã£o
- **Gradle 8.8**: Sistema de build (incluÃ­do no wrapper)
- **Chrome/Chromium**: Navegador para execuÃ§Ã£o dos testes

### ğŸš€ Comandos DisponÃ­veis

#### ConfiguraÃ§Ã£o Inicial
```bash
# Tornar gradlew executÃ¡vel (Linux/Mac)
chmod +x gradlew

# Verificar instalaÃ§Ã£o do Java
java -version
```

#### ExecuÃ§Ã£o de Testes

**Via Makefile (Recomendado)**
```bash
# Executar todos os testes
make test

# Buildar o projeto
make build

# Gerar relatÃ³rio de cobertura
make coverage

# Limpar o projeto
make clean

# Ver ajuda
make help
```

**Via Gradle Wrapper**
```bash
# Executar todos os testes
./gradlew test

# Executar testes com relatÃ³rio HTML
./gradlew test --info

# Gerar relatÃ³rio de cobertura
./gradlew jacocoTestReport

# Limpar build
./gradlew clean

# Build completo
./gradlew build
```

## ğŸ“‚ Estrutura do Projeto

```plaintext
tests/selenium/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/java/com/qa/solar/          # Classes utilitÃ¡rias
â”‚   â”‚   â”œâ”€â”€ BaseTest.java                # Classe base para testes
â”‚   â”‚   â”œâ”€â”€ Login.java                   # UtilitÃ¡rio de login via API
â”‚   â”‚   â”œâ”€â”€ GenerateValidCPF.java        # Gerador de CPF vÃ¡lido
â”‚   â”‚   â”œâ”€â”€ GenerateUsers.java           # GeraÃ§Ã£o de usuÃ¡rios
â”‚   â”‚   â””â”€â”€ MockGenerateUsers.java       # Mock de criaÃ§Ã£o de usuÃ¡rios
â”‚   â””â”€â”€ test/java/com/qa/solar/          # Classes de teste
â”‚       â”œâ”€â”€ LoginTest.java               # Testes de autenticaÃ§Ã£o
â”‚       â”œâ”€â”€ RegisterTest.java            # Testes de cadastro
â”‚       â”œâ”€â”€ Profile.java                 # Testes de perfil
â”‚       â”œâ”€â”€ ListUsers.java               # Testes de listagem
â”‚       â””â”€â”€ RecoverPassword.java         # Testes de recuperaÃ§Ã£o
â”œâ”€â”€ src/test/resources/                  # Recursos de teste
â”‚   â”œâ”€â”€ logback.xml                      # ConfiguraÃ§Ã£o de logging
â”‚   â””â”€â”€ logback-test.xml                 # ConfiguraÃ§Ã£o de logging para testes
â”œâ”€â”€ build.gradle                         # ConfiguraÃ§Ã£o do Gradle
â”œâ”€â”€ gradle.properties                    # Propriedades do Gradle
â”œâ”€â”€ settings.gradle                      # ConfiguraÃ§Ã£o do projeto
â”œâ”€â”€ gradlew                              # Gradle wrapper (Unix)
â”œâ”€â”€ gradlew.bat                          # Gradle wrapper (Windows)
â”œâ”€â”€ Makefile                             # Comandos simplificados
â”œâ”€â”€ package.json                         # Metadados do projeto
â””â”€â”€ .env                                 # VariÃ¡veis de ambiente (criar)
```

## âš™ï¸ ConfiguraÃ§Ãµes AvanÃ§adas

### ğŸ”§ ConfiguraÃ§Ã£o do Gradle

O projeto utiliza configuraÃ§Ãµes otimizadas para performance e confiabilidade:

```gradle
// Principais configuraÃ§Ãµes
plugins {
    id 'java'
    id 'jacoco'                    // RelatÃ³rios de cobertura
}

// DependÃªncias principais
dependencies {
    implementation "org.seleniumhq.selenium:selenium-java:4.35.0"
    implementation "io.github.bonigarcia:webdrivermanager:5.7.0"
    implementation "org.junit.jupiter:junit-jupiter-api:5.10.2"
    implementation "com.github.javafaker:javafaker:1.0.2"
    implementation "io.github.cdimascio:dotenv-java:3.2.0"
    implementation "com.google.code.gson:gson:2.10.1"
}

// ConfiguraÃ§Ã£o de testes
test {
    maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
    forkEvery = 0
    
    reports {
        html.required = true
        junitXml.required = true
    }
    
    testLogging {
        events 'passed', 'skipped', 'failed'
        exceptionFormat = 'short'
        showStandardStreams = false
    }
}
```

### ğŸŒ VariÃ¡veis de Ambiente

Crie um arquivo `.env` na raiz do projeto:

```bash
# URLs de configuraÃ§Ã£o
SELENIUM_BASE_URL=http://localhost:8181      # URL da aplicaÃ§Ã£o frontend
SELENIUM_API_BASE_URL=http://localhost:3001  # URL da API backend

# ConfiguraÃ§Ãµes do navegador
HEADLESS=false                               # Executar em modo headless
```

### ğŸ”§ ConfiguraÃ§Ã£o do BaseTest

A classe base fornece funcionalidades comuns:

```java
public abstract class BaseTest {
    protected WebDriver driver;
    
    // ConfiguraÃ§Ã£o do driver
    protected WebDriver setUp() {
        WebDriverManager.chromedriver().setup();
        ChromeOptions options = new ChromeOptions();
        
        boolean headless = Boolean.parseBoolean(dotenv.get("HEADLESS", "false"));
        if (headless) {
            options.addArguments("--headless=new");
            options.addArguments("--window-size=1920,1080");
        }
        
        options.addArguments("--no-sandbox");
        options.addArguments("--disable-dev-shm-usage");
        
        driver = new ChromeDriver(options);
        return driver;
    }
    
    // NavegaÃ§Ã£o
    protected void navigateTo(String url) {
        // ImplementaÃ§Ã£o de navegaÃ§Ã£o com base URL
    }
    
    // Esperas explÃ­citas
    protected WebElement waitForElementLocated(By locator, int duration) {
        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(duration));
        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator));
    }
}
```

## ğŸ“š Classes UtilitÃ¡rias

### ğŸ” Login via API

```java
public class Login {
    public void login(WebDriver driver, String email, String password) {
        // Faz requisiÃ§Ã£o HTTP para API de login
        // Armazena token no localStorage do navegador
        // Navega para a aplicaÃ§Ã£o
    }
}
```

### ğŸ² GeraÃ§Ã£o de Dados

```java
public class GenerateValidCPF {
    public String generateValidCPF() {
        // Gera CPF vÃ¡lido seguindo algoritmo oficial
        // Retorna CPF formatado (XXX.XXX.XXX-XX)
    }
}

public class GenerateUsers {
    public void generateUsers(int quantity) {
        // Gera usuÃ¡rios via requisiÃ§Ãµes HTTP
        // Utiliza JavaFaker para dados realistas
    }
}
```

### ğŸ§ª PadrÃ£o de Testes

```java
@DisplayName("Testes de Login")
public class LoginTest extends BaseTest {
    
    @BeforeEach
    public void setUpTest() {
        driver = setUp();
        navigateTo("/");
    }
    
    @AfterEach
    public void tearDownTest() {
        tearDown();
    }
    
    @Test
    @DisplayName("Deveria ser possÃ­vel fazer login com credenciais vÃ¡lidas")
    public void shouldLoginWithValidCredentials() {
        // ImplementaÃ§Ã£o do teste
    }
}
```

## ğŸ› ï¸ DependÃªncias Principais

### ProduÃ§Ã£o
- **Selenium WebDriver**: `4.35.0` - AutomaÃ§Ã£o de navegadores
- **WebDriverManager**: `5.7.0` - Gerenciamento automÃ¡tico de drivers
- **JavaFaker**: `1.0.2` - GeraÃ§Ã£o de dados fictÃ­cios
- **Dotenv Java**: `3.2.0` - Gerenciamento de variÃ¡veis de ambiente
- **Gson**: `2.10.1` - SerializaÃ§Ã£o/deserializaÃ§Ã£o JSON

### Desenvolvimento
- **JUnit 5**: `5.10.2` - Framework de testes
- **AssertJ**: `3.25.3` - Assertions fluentes
- **JaCoCo**: Plugin para relatÃ³rios de cobertura
- **Logback**: `1.4.14` - Sistema de logging
- **Apache Commons Lang3**: `3.14.0` - UtilitÃ¡rios Java

## ğŸš€ OtimizaÃ§Ãµes de Performance

### âš¡ ConfiguraÃ§Ãµes do Gradle
- **ParalelizaÃ§Ã£o**: `maxParallelForks` configurado para metade dos cores disponÃ­veis
- **Cache**: Habilitado para builds incrementais
- **Daemon**: ReutilizaÃ§Ã£o de JVM para builds mais rÃ¡pidos
- **Memory**: ConfiguraÃ§Ã£o otimizada de heap (2GB)

### ğŸ”§ ConfiguraÃ§Ãµes do Selenium
- **Headless Mode**: Suporte para execuÃ§Ã£o sem interface grÃ¡fica
- **Chrome Options**: ConfiguraÃ§Ãµes otimizadas para CI/CD
- **WebDriverManager**: Download automÃ¡tico e cache de drivers
- **Explicit Waits**: Esperas inteligentes para elementos
